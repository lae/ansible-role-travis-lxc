---
# vars file for lae.travis-lxc
travis_lxc_default_test_profiles:
  - profile: debian-stretch
    prefix: test
# Profile names should always be $template-$release in that they can be passed
# to lxc-create as-is. Prefixes should only contain [a-z0-9-].
travis_lxc_profiles:
  debian-wheezy:
    label: "Debian Wheezy (7)"
    prefix: debian-wheezy-
    packages:
      - python
      - ca-certificates
      - curl
      - sudo
      - gnupg2
    rootfs: /var/cache/lxc/debian/rootfs-wheezy-amd64
    rootfs_exclude:
      - "/*.pyc"
  debian-jessie:
    label: "Debian Jessie (8)"
    prefix: debian-jessie-
    packages:
      - python
      - ca-certificates
      - curl
      - sudo
      - gnupg2
    rootfs: /var/cache/lxc/debian/rootfs-jessie-amd64
    rootfs_exclude:
      - "/*.pyc"
  debian-stretch:
    label: "Debian Stretch (9)"
    prefix: debian-stretch-
    packages:
      - python
      - ca-certificates
      - curl
      - sudo
      - gnupg2
    rootfs: /var/cache/lxc/debian/rootfs-stretch-amd64
    rootfs_exclude:
      - "/*.pyc"
  ubuntu-precise:
    label: "Ubuntu Precise Pangolin (12.04)"
    prefix: ubuntu-precise-
    packages:
      - python
      - ca-certificates
      - curl
      - sudo
    rootfs: /var/cache/lxc/precise/rootfs-amd64
    rootfs_exclude:
      - "/*.pyc"
  ubuntu-trusty:
    label: "Ubuntu Trusty Tahr (14.04)"
    prefix: ubuntu-trusty-
    packages:
      - python
      - ca-certificates
      - curl
      - sudo
    rootfs: /var/cache/lxc/trusty/rootfs-amd64
    rootfs_exclude:
      - "/*.pyc"
  ubuntu-xenial:
    label: "Ubuntu Xenus Xenial (16.04)"
    prefix: ubuntu-xenial-
    packages:
      - python
      - ca-certificates
      - curl
      - sudo
    rootfs: /var/cache/lxc/xenial/rootfs-amd64
    rootfs_exclude:
      - "/*.pyc"
  centos-6:
    label: "CentOS 6"
    prefix: centos-6-
    packages:
      - python
      - ca-certificates
      - sudo
      - redhat-lsb-core
      - yum-plugin-ovl
    environment:
      root_expire_password: no
    rootfs: /var/cache/lxc/centos/x86_64/6/rootfs
    rootfs_exclude:
      - "/*.pyc"
      - /var/cache/yum
      - /var/lib/yum/uuid
      - "/var/lib/rpm/__db.*"
  centos-7:
    label: "CentOS 7"
    prefix: centos-7-
    packages:
      - python
      - ca-certificates
      - sudo
      - redhat-lsb-core
      - yum-plugin-ovl
    environment:
      root_expire_password: no
    rootfs: /var/cache/lxc/centos/x86_64/7/rootfs
    rootfs_exclude:
      - "/*.pyc"
      - /var/cache/yum
      - /var/lib/yum/uuid
      - "/var/lib/rpm/__db.*"
  fedora-25:
    label: "Fedora 25"
    prefix: fedora-25-
    packages:
      - python2
      - ca-certificates
      - sudo
      - yum-plugin-ovl
    environment:
      root_expire_password: no
    rootfs: /var/cache/lxc/fedora/25-x86_64/rootfs
    rootfs_exclude:
      - "/*.pyc"
      - /var/cache/dnf
      - "/var/lib/rpm/__db.*"
      - /etc/resolv.conf
      - /etc/pki/nssdb/key*.db
      - /etc/pki/nssdb/cert*.db
      - "/var/log/dnf*.log"
      - /var/log/hawkey.log
  fedora-26:
    label: "Fedora 26"
    prefix: fedora-26-
    packages:
      - python2
      - ca-certificates
      - sudo
      - yum-plugin-ovl
    environment:
      root_expire_password: no
    rootfs: /var/cache/lxc/fedora/26-x86_64/rootfs
    rootfs_exclude:
      - "/*.pyc"
      - /var/cache/dnf
      - "/var/lib/rpm/__db.*"
      - /etc/resolv.conf
      - /etc/pki/nssdb/key*.db
      - /etc/pki/nssdb/cert*.db
      - "/var/log/dnf*.log"
      - /var/log/hawkey.log
  fedora-27:
    label: "Fedora 27"
    prefix: fedora-27-
    packages:
      - python2
      - ca-certificates
      - sudo
      - yum-plugin-ovl
    environment:
      root_expire_password: no
    rootfs: /var/cache/lxc/fedora/27-x86_64/rootfs
    rootfs_exclude:
      - "/*.pyc"
      - /var/cache/dnf
      - "/var/lib/rpm/__db.*"
      - /var/lib/rpm/.dbenv.lock
      - /etc/resolv.conf
      - "/var/log/dnf*.log"
      - /var/log/hawkey.log
  alpine-v3.7:
    label: "Alpine v3.7"
    prefix: alpine-v3-7-
    packages:
      - python
      - ca-certificates
      - sudo
      - openssh
    rootfs: /var/cache/lxc/alpine/apk/x86_64
    rootfs_exclude:
      - "/*.pyc"
travis_lxc_packages:
  - lxc
  - lxc-templates
  - lxc-dev
  - yum
  - debootstrap
  - expect-dev
  - pigz
travis_lxc_network_config:
  - "lxc.net.0.type = veth"
  - "lxc.net.0.link = lxcbr0"
  - "lxc.net.0.flags = up"
